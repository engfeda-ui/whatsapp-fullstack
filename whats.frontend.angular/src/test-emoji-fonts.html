<!-- Quick Test Page for Emoji and Font Switching -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù€ Emoji ÙˆØ§Ù„Ø®Ø·ÙˆØ·</title>
    <style>
        :root {
            --font-family-override: 'Tajawal',
                                    'Segoe UI',
                                    'Segoe UI Emoji',
                                    'Segoe UI Symbol',
                                    'Apple Color Emoji',
                                    'Noto Color Emoji',
                                    sans-serif;
        }

        body {
            font-family: var(--font-family-override);
            padding: 20px;
            background: #f5f5f5;
            line-height: 1.8;
        }

        h1 { margin-top: 30px; }

        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .emoji-test {
            font-size: 24px;
            margin: 10px 0;
        }

        .controls {
            margin: 20px 0;
        }

        button {
            padding: 10px 20px;
            margin: 5px;
            font-family: var(--font-family-override);
            cursor: pointer;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
        }

        button:hover {
            background: #f0f0f0;
        }

        .result {
            padding: 10px;
            margin: 10px 0;
            background: #f9f9f9;
            border-left: 4px solid #4CAF50;
        }

        .error {
            border-left-color: #f44336;
        }

        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        .test-list {
            list-style: none;
            padding: 0;
        }

        .test-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .test-list li:last-child {
            border-bottom: none;
        }

        .pass { color: #4CAF50; }
        .fail { color: #f44336; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù€ Emoji ÙˆØ§Ù„Ø®Ø·ÙˆØ·</h1>

    <div class="test-section">
        <h2>âœ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± 1: Ø¹Ø±Ø¶ Ø§Ù„Ù€ Emoji</h2>
        <p>ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ø¬Ù…ÙŠØ¹ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ù…ÙˆØ² Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­:</p>
        <div class="emoji-test">
            ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜… ğŸ¤£ ğŸ˜‚
        </div>
        <div class="emoji-test">
            â¤ï¸ ğŸ’” ğŸ’• ğŸ’– ğŸ’— ğŸ’˜ ğŸ’ ğŸ’
        </div>
        <div class="emoji-test">
            âœ… âœ”ï¸ âœ“ âš ï¸ âŒ ğŸš« â›” ğŸ”´
        </div>
        <div class="emoji-test">
            ğŸ‰ ğŸŠ ğŸˆ ğŸ ğŸ€ ğŸ‚ ğŸ° ğŸ§
        </div>
        <div class="emoji-test">
            ğŸ“± ğŸ’» ğŸ–¥ï¸ âŒ¨ï¸ ğŸ–±ï¸ ğŸ–¨ï¸ ğŸ“  ğŸ“
        </div>
        <p style="color: #4CAF50;">âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø©: Ø¥Ø°Ø§ Ø±Ø£ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ù…ÙˆØ² Ø£Ø¹Ù„Ø§Ù‡ Ø¨Ø´ÙƒÙ„ ÙˆØ§Ø¶Ø­ØŒ Ø§Ù„Ù€ Emoji ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!</p>
    </div>

    <div class="test-section">
        <h2>ğŸ¨ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± 2: ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø·</h2>
        <p>Ø§Ø®ØªØ± Ø®Ø· Ù…Ø®ØªÙ„Ù ÙˆØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØºÙŠÙŠØ± Ø§Ù„ÙÙˆØ±ÙŠ:</p>
        <div class="controls">
            <button onclick="switchFont('font-tajawal')">Tajawal</button>
            <button onclick="switchFont('font-poppins')">Poppins</button>
            <button onclick="switchFont('font-droid-sans')">Droid Sans</button>
            <button onclick="switchFont('font-al-jazeera')">Al Jazeera</button>
        </div>
        <div class="result" id="font-result">Ø§Ù„Ø®Ø· Ø§Ù„Ø­Ø§Ù„ÙŠ: Tajawal</div>
        <p>Ø§Ù„Ù†Øµ Ø§Ù„ØªØ§Ù„ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØºÙŠØ± Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø®Ø· Ø¬Ø¯ÙŠØ¯:</p>
        <p style="font-size: 18px; padding: 15px; background: #f0f0f0;">
            Ù‡Ø°Ø§ Ù†Øµ Ø¹Ø±Ø¨ÙŠ Ù„Ø§Ø®ØªØ¨Ø§Ø± ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ø· Ø¨Ø´ÙƒÙ„ ÙÙˆØ±ÙŠ. ÙŠØ¬Ø¨ Ø£Ù† ØªÙ„Ø§Ø­Ø¸ Ø§Ù„ØªØºÙŠÙŠØ± ÙÙˆØ±Ø§Ù‹ Ø¯ÙˆÙ† Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©.
        </p>
    </div>

    <div class="test-section">
        <h2>ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</h2>
        <ul class="test-list">
            <li>
                <span class="pass">âœ…</span>
                Ø§Ù„Ù€ Emoji ØªØ¸Ù‡Ø± Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ (Ù„Ø§ Ù…Ø±Ø¨Ø¹Ø§Øª ÙØ§Ø±ØºØ©)
            </li>
            <li>
                <span id="test-font-switch" class="fail">â³</span>
                ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø· ÙŠØ­Ø¯Ø« ÙÙˆØ±Ø§Ù‹
            </li>
            <li>
                <span id="test-icons" class="fail">â³</span>
                Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ù„Ø§ ØªØªØ£Ø«Ø± Ø¨ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø®Ø·
            </li>
            <li>
                <span id="test-rtl" class="fail">â³</span>
                Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙŠØ¹Ø±Ø¶ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ (RTL)
            </li>
            <li>
                <span id="test-storage" class="fail">â³</span>
                Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª ØªØ­ÙØ¸ ÙÙŠ localStorage
            </li>
        </ul>
    </div>

    <div class="test-section">
        <h2>ğŸ” Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡</h2>
        <button onclick="runDiagnostics()">ØªØ´ØºÙŠÙ„ Ø§Ù„ÙØ­Øµ Ø§Ù„ØªØ´Ø®ÙŠØµÙŠ</button>
        <div id="diagnostics" style="margin-top: 15px;"></div>
    </div>

    <script>
        // Set initial font
        document.documentElement.classList.add('font-tajawal');
        localStorage.setItem('font', 'font-tajawal');

        function switchFont(font) {
            const fontNames = {
                'font-tajawal': 'Tajawal',
                'font-poppins': 'Poppins',
                'font-droid-sans': 'Droid Sans',
                'font-al-jazeera': 'Al Jazeera'
            };

            // Remove all font classes
            const html = document.documentElement;
            ['font-tajawal', 'font-poppins', 'font-droid-sans', 'font-al-jazeera'].forEach(cls => {
                html.classList.remove(cls);
            });

            // Add selected font class
            html.classList.add(font);
            localStorage.setItem('font', font);

            // Update result
            document.getElementById('font-result').textContent = 'Ø§Ù„Ø®Ø· Ø§Ù„Ø­Ø§Ù„ÙŠ: ' + fontNames[font];
            document.getElementById('test-font-switch').className = 'pass';
            document.getElementById('test-font-switch').textContent = 'âœ…';

            // Force reflow
            const elements = document.querySelectorAll('p, span, div, h1, h2, h3, h4, h5, h6, button, a, label, li, td, th');
            elements.forEach(el => {
                const _ = el.offsetHeight;
            });
        }

        function runDiagnostics() {
            const results = [];
            const div = document.getElementById('diagnostics');

            // Test 1: localStorage
            try {
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                results.push('<span class="pass">âœ… localStorage:</span> ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­');
                document.getElementById('test-storage').className = 'pass';
                document.getElementById('test-storage').textContent = 'âœ…';
            } catch (e) {
                results.push('<span class="fail">âŒ localStorage:</span> ' + e.message);
            }

            // Test 2: CSS Variables
            const computed = getComputedStyle(document.documentElement);
            const fontFamily = computed.getPropertyValue('--font-family-override').trim();
            if (fontFamily) {
                results.push('<span class="pass">âœ… CSS Variables:</span> ' + (fontFamily.split(',')[0] || 'Ù…Ø­Ø¯Ø¯'));
            } else {
                results.push('<span class="fail">âŒ CSS Variables:</span> ØºÙŠØ± Ù…Ø­Ø¯Ø¯');
            }

            // Test 3: RTL
            const rtl = document.documentElement.dir;
            if (rtl === 'rtl') {
                results.push('<span class="pass">âœ… RTL:</span> ØµØ­ÙŠØ­');
                document.getElementById('test-rtl').className = 'pass';
                document.getElementById('test-rtl').textContent = 'âœ…';
            } else {
                results.push('<span class="fail">âŒ RTL:</span> ' + rtl);
            }

            // Test 4: Font Classes
            const fontClass = ['font-tajawal', 'font-poppins', 'font-droid-sans', 'font-al-jazeera']
                .find(cls => document.documentElement.classList.contains(cls));
            if (fontClass) {
                results.push('<span class="pass">âœ… Font Class:</span> ' + fontClass);
                document.getElementById('test-icons').className = 'pass';
                document.getElementById('test-icons').textContent = 'âœ…';
            } else {
                results.push('<span class="fail">âŒ Font Class:</span> ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
            }

            // Display results
            div.innerHTML = '<div class="result">' + results.map(r => '<p>' + r + '</p>').join('') + '</div>';
        }

        // Run diagnostics on load
        window.addEventListener('load', () => {
            setTimeout(runDiagnostics, 500);
        });
    </script>
</body>
</html>
